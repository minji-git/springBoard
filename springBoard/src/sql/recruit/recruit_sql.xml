<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="recruit">
    
    <resultMap type="com.spring.board.vo.RecruitVo" id="recruitVo">
    	<result property="seq" column="SEQ"/>
    	<result property="name" column="NAME"/>
    	<result property="birth" column="BIRTH"/>
    	<result property="field3" column="FIELD3"/>
    	<result property="phone" column="PHONE"/>
    	<result property="email" column="EMAIL"/>
    	<result property="addr" column="ADDR"/>
    	<result property="location" column="LOCATION"/>
    	<result property="workType" column="WORK_TYPE"/>
    	<result property="submit" column="SUBMIT"/>
    </resultMap>
    <resultMap type="com.spring.board.vo.EducationVo" id="educationVo">
    	<result property="eduSeq" column="EDU_SEQ"/>
    	<result property="seq" column="SEQ"/>
    	<result property="schoolName" column="SCHOOL_NAME"/>
    	<result property="division" column="DIVISION"/>
    	<result property="startPeriod" column="START_PERIOD"/>
    	<result property="endPeriod" column="END_PERIOD"/>
    	<result property="major" column="MAJOR"/>
    	<result property="grade" column="GRADE"/>
    	<result property="location" column="LOCATION"/>
    </resultMap>
           

    <select id="recruitView" parameterType="com.spring.board.vo.RecruitVo" resultMap="recruitVo">
    	SELECT
    		SEQ
        	, NAME
			, BIRTH
			, FIELD3
			, PHONE
			, EMAIL
			, ADDR
			, LOCATION
			, WORK_TYPE
			, SUBMIT
		FROM
			RECRUIT
    	WHERE 	NAME = #{name}
    	AND 	PHONE  = #{phone}
    </select>	
    
    <select id="login" parameterType="com.spring.board.vo.RecruitVo">
	 	INSERT INTO 
	 		RECRUIT
 			(SEQ
 			, NAME
 			, BIRTH
 			, FIELD3
 			, PHONE
 			, EMAIL
 			, ADDR
 			, LOCATION
 			, WORK_TYPE
 			, SUBMIT
 			)
		VALUES 
			(
			(SELECT TO_CHAR(NVL(MAX(SEQ),0)+1) 
			  FROM RECRUIT)
			, #{name}
			, #{birth}
			, #{field3}
			, #{phone}
			, #{email}
			, #{addr}
			, #{location}
			, #{workType}
			, #{submit})	
    </select>
    
    <select id="educationSave" parameterType="com.spring.board.vo.EducationVo">
    	INSERT INTO 
    		EDUCATION
    		(EDU_SEQ
             , SEQ
             , SCHOOL_NAME
             , DIVISION
             , START_PERIOD
             , END_PERIOD
             , MAJOR
             , END_PERIOD    
             , MAJOR
             , GRADE
             , LOCATION)
		VALUES
			(
			#{eduSeq}
			, #{seq}
			, #{schoolName}
			, #{division}
			, #{startPeriod}
			, #{endPeriod}
			, #{major}
			, #{grade}
			, #{location})
    </select>
  
</mapper>











